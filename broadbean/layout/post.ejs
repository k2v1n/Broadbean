<!-- post -->
<% var hasToc = toc(page.content).length > 0 %>

<div class="main-post <%= hasToc ? 'show-toc' : 'hide-toc' %>">
  <!-- table of content -->
  <% if (toc(page.content).length > 0) { %>
    <div class="post-toc">
      <div class="post-toc-content">
        <%- toc(page.content, {list_number: false}) %>
      </div>
    </div>
  <% } %>
  <!-- table of content end-->
  <!-- article -->
  <div class="cell">
    <article>
      <!-- title -->
      <% if (page.link) { %>
        <a href="<%=page.link%>">
          <h1 class="title"><%=page.title%></h1> 
        </a>        
      <% } else if (page.title) { %>
          <h1  class="title"><%= page.title %></h1> 
      <% } %>
      <div class="post-meta">
        <!-- time -->
        <% if (page.date) { %>
          <i class="fa fa-calendar-o" aria-hidden="true"></i>
          <time datetime="<%= page.date.toJSON() %>">
            <%=date(page.date)%>
          </time>
        <% } %>
        <!-- categories -->
        <% if (page.categories.length > 0) { %>
          <i class="fa fa-tags" aria-hidden="true"></i>
          <% page.categories.forEach(function(cate) { %>
            <a href="<%- url_for(cate.path)%>">
              <span><%= cate.name %></span>
            </a>
          <% }) %>
        <% } %>    
        <!-- categories end -->

        <!-- tag -->
<!--         <% page.tags.forEach(function(tag) { %>
          <a href="<%- url_for(tag.path)%>">
            <span><%= tag.name %></span>
          </a>
        <% }) %> -->
        <!-- tag end -->

      </div>
      <!-- content -->
      <div class="article-content">
      <%- page.content %>
      </div>
      <!-- content end -->
    </article>
  </div>
  <!-- pagination -->
  <% if  (page.prev || page.next) { %>
    <nav class="pagination">
      <% if (page.prev) { %>
        <a class="prev" href="<%- url_for(page.prev.path) %>"><%= '<  ' + page.prev.title %></a>
      <% } %>
      <% if (page.next) { %>
        <a class="next" href="<%- url_for(page.next.path) %>"><%= page.next.title + '  >'  %></a>
      <% } %>
    </nav>    
  <% } %>
  <!-- pagination end -->
</div>





